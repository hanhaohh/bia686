J 
Med 
Syst 
(2008) 
32:243–250 
DOI 
10.1007/s10916-008-9129-9 


ORIGINAL 
PAPER 


Comparison 
of 
Different 
Classifier 
Algorithms 
on 
the 
Automated 
Detection 
of 
Obstructive 
Sleep 
Apnea 
Syndrome 


Kemal 
Polat 
& 
Sebnem 
Yosunkaya 
& 
Salih 
Günes 


Received: 
9 
November 
2007 
/ 
Accepted: 
4 
January 
2008 
/ 
Published 
online: 
16 
February 
2008 
# 
Springer 
Science 
+ 
Business 
Media, 
LLC 
2008 


Abstract 
In 
this 
paper, 
we 
have 
compared 
the 
classifier 
algorithms 
including 
C4.5 
decision 
tree, 
le 
artificial 
neural 
network 
(ANN), 
artificial 
immune 
recognition 
system 
(AIRS), 
and 
adaptive 
neuro-fuzzy 
inference 
system 
(ANFIS) 
in 
the 
diagnosis 
of 
obstructive 
sleep 
apnea 
syndrome 
(OSAS), 
which 
is 
an 
important 
disease 
that 
affects 
both 
the 
right 
and 
the 
left 
cardiac 
ventricle. 
The 
goal 
of 
this 
study 
was 
to 
find 
the 
best 
classifier 
model 
on 
the 
diagnosis 
of 
OSAS. 
The 
clinical 
features 
were 
obtained 
from 
Polysomnography 
device 
as 
a 
diagnostic 
tool 
for 
obstructive 
sleep 
apnea 
in 
patients 
clinically 
suspected 
of 
suffering 
this 
disease 
in 
this 
study. 
The 
clinical 
features 
are 
arousals 
index, 
apnea– 
hypopnea 
index 
(AHI), 
SaO2 
minimum 
value 
in 
stage 
of 
rapid 
eye 
movement, 
and 
percent 
sleep 
time 
in 
stage 
of 
SaO2 
intervals 
bigger 
than 
89%. 
In 
our 
experiments, 
a 
total 
of 
83 
patients 
(58 
with 
a 
positive 
OSAS 
(AHI>5) 
and 
25 
with 
a 
negative 
OSAS 
such 
that 
normal 
subjects) 
were 
examined. 
The 
decision 
support 
systems 
can 
help 
to 
physicians 
in 
the 
diagnosing 
of 
any 
disorder 
or 
disease 
using 
clues 
obtained 
from 
signal 
or 
images 
taken 
from 
subject 
having 
any 
disorder. 
In 
order 
to 
compare 
the 
used 
classifier 
algorithms, 
the 
mean 
square 
error, 
classification 
accuracy, 
area 
under 
the 
receiver 
operating 
characteristics 
curve 
(AUC), 
and 
sensitivity 
and 
specificity 
analysis 
have 


K. 
Polat 
(*) 
: 
S. 
Günes 
Electrical 
and 
Electronics 
Engineering 
Department, 
Selcuk 
University, 
42035 
Konya, 
Turkey 
e-mail: 
kpolat@selcuk.edu.tr 
S. 
Günes 
e-mail: 
sgunes@selcuk.edu.tr 
S. 
Yosunkaya 
Sleep 
Laboratory, 
Faculty 
of 
Medicine, 
Selcuk 
University, 
Konya, 
Turkey 
e-mail: 
syosunkaya@e-kolay.net 


been 
used. 
The 
obtained 
AUC 
values 
of 
C4.5 
decision 
tree, 
ANN, 
AIRS, 
and 
ANFIS 
classifiers 
are 
0.971, 
0.96, 
0.96, 
and 
0.922, 
respectively. 
These 
results 
have 
shown 
that 
the 
best 
classifier 
system 
is 
C4.5 
decision 
tree 
classifier 
on 
the 
diagnosis 
of 
obstructive 
sleep 
apnea 
syndrome. 


Keywords 
Obstructive 
sleep 
apnea 
syndrome 
(OSAS) 
. 
C4.5 
Decision 
tree 
classifier 
. 
Artificial 
neural 
network 
. 
Artificial 
immune 
recognition 
system 
. 
Adaptive 
neuro-fuzzy 
inference 
system 
. 
Polysomnography 


Introduction 


Sleep 
Apnea 
Syndrome 
(SAS) 
is 
a 
very 
common 
sleep 
disorder. 
Obstructive 
Sleep 
apnea 
(OSAS) 
is 
a 
syndrome 
characterized 
with 
decreased 
oxygen 
saturation 
and 
recurrent 
upper 
respiratory 
tract 
obstruction 
episodes 
during 
full 
night 
sleep. 


SAS 
is 
considered 
as 
clinically 
relevant 
when 
the 
breath 
stops 
during 
more 
than 
10 
s 
and 
occurs 
more 
than 
five 
times 
per 
sleep 
hour. 
These 
non 
breathing 
episodes 
may 
sometimes 
occur 
more 
than 
300 
times 
a 
night. 
Health 
studies 
affirm 
that 
more 
than 
30 
of 
these 
non 
breathing 
episodes 
per 
night 
should 
be 
considered 
abnormal. 
There 
exist 
two 
kinds 
of 
apneic 
events 
that 
may 
cause 
insufficient 
pulmonary 
ventilation 
during 
sleep, 
Apnea 
and 
Hypopnea. 
Apnea 
is 
defined 
as 
the 
total 
absence 
of 
airflow, 
followed 
by 
the 
reduction 
of 
oxygen 
levels 
in 
arterial 
blood. 
The 
term 
Hypopnea 
is 
used 
when 
the 
breath 
doesn’t 
stop 
but 
decrease 
over 
50% 
of 
its 
normal 
value, 
followed 
by 
the 
reduction 
of 
oxygen 
levels 
in 
arterial 
blood. 
The 
SAS 
is 
present 
mainly 
in 
adults 
and 
in 
11% 
of 
children 
especially 
in 
the 
male 
population 
[1–3]. 


There 
are 
some 
studies 
related 
to 
diagnosis 
of 
OSAS 
in 
literature. 
Among 
these, 
Al-Ani 
et 
al. 
[3]used 
artificialneural 




J 
Med 
Syst 
(2008) 
32:243–250 


network 
and 
signals 
of 
respiratory 
and 
cardiac 
activities 
(Nasal 
Airway 
Flow 
and 
Pulse 
Transit 
Time) 
issued 
by 
the 
technique 
of 
Polysomnography 
to 
diagnose 
OSAS. 
The 
combination 
of 
Sample 
Entropy 
Approach 
and 
Heart 
Rate 
Variability 
were 
used 
to 
detect 
the 
OSAS 
by 
Al-Angari 
et 
al. 


[4] 
and 
obtained 
72.9% 
classification 
accuracy. 
del 
Campo 
et 
al. 
[5] 
assessed 
the 
validity 
of 
approximate 
entropy 
analysis 
of 
arterial 
oxygen 
saturation 
(SaO2) 
data 
obtained 
from 
pulse 
oximetric 
recordings 
as 
a 
diagnostic 
test 
for 
obstructive 
sleep 
apnea 
(OSA) 
in 
patients 
clinically 
suspected 
of 
suffering 
this 
disease. 
Kwiatkowska 
et 
al. 
[6] 
assessed 
the 
obstructive 
sleep 
apnea 
syndrome 
using 
Pulse 
Oximetry 
and 
Clinical 
Prediction 
Rules 
with 
a 
fuzzy 
logic 
approach. 
In 
this 
paper, 
various 
classifier 
systems 
comprising 
C4.5 
decision 
tree 
classifier, 
artificial 
neural 
network 
with 
Levenberg 
Marquart, 
adaptive 
neuro-fuzzy 
inference 
system 
(ANFIS), 
and 
artificial 
immune 
recognition 
system 
(AIRS), 
which 
were 
of 
among 
most 
important 
classifier 
algorithms 
in 
machine 
learning, 
were 
used 
to 
diagnose 
the 
OSAS 
disease, 
which 
often 
seems 
among 
public. 
According 
to 
obtained 
results 
from 
used 
classifiers, 
we 
have 
compared 
these 
classifiers 
and 
found 
the 
C4.5 
decision 
tree 
as 
the 
best 
classifier 
on 
the 
diagnosis 
of 
OSAS. 


The 
remaining 
of 
the 
paper 
is 
organized 
as 
follows. 
In 
“Material,” 
we 
mention 
the 
subjects 
in 
our 
experiments 
and 
Polysomnography 
device. 
We 
present 
the 
used 
classifier 
algorithms 
in 
the 
next 
section. 
In 
“The 
experimental 
results,” 
we 
give 
the 
experimental 
data 
to 
show 
the 
effectiveness 
of 
our 
method. 
Finally, 
we 
conclude 
this 
paper 
in 
“Conclusion” 
with 
future 
directions. 


Material 


Subjects 


We 
studied 
83 
subjects 
(59 
men 
and 
24 
women) 
who 
were 
referred 
for 
clinical 
suspicion 
of 
OSA. 
The 
patients 
were 
consecutively 
recruited 
from 
the 
outpatient 
clinic. 
Subjects 
ranged 
in 
age 
from 
17 
to 
83 
years, 
with 
an 
average 
age 
of 
49 


years. 
The 
mean 
body 
mass 
index 
(BMI) 
was 
36.83 
kg/m2. 
In 
our 
experiments, 
a 
total 
of 
83 
patients 
(58 
with 
a 
positive 
OSAS 
(apnea–hypopnea 
index 
(AHI)>5) 
and 
25 
with 
a 
negative 
OSAS 
such 
that 
normal 
subjects) 
were 
examined. 
The 
Review 
Board 
on 
Human 
Studies 
at 
our 
institution 
approved 
the 
protocol, 
and 
each 
patient 
gave 
his 
or 
her 
informed 
consent 
to 
participate 
in 
the 
study. 
Table 
1 
presents 
the 
statistical 
measures 
of 
used 
clinical 
features 
and 
characteristics. 


Polysomnography 


Polysomnography 
is 
a 
diagnostic 
test 
during 
which 
a 
number 
of 
physiologic 
variables 
are 
measured 
and 
recorded 
during 
sleep 
(http://classes.kumc.edu/cahe/respcared/cybercas/ 
sleepapnea/trenpoly.html). 
But 
Polysomnography 
device 
is 
an 
invasive 
method. 
All 
sleep 
studies 
were 
carried 
out 
in 
our 
Sleep 
Unit, 
usually 
from 
midnight 
to 
8 
A.M. 
Patients 
were 
prospectively 
evaluated 
after 
a 
single-night 
pulse 
oximetry 
recording 
obtained 
by 
nocturnal 
pulse 
oximetry 
in 
conjunction 
with 
a 
simultaneous 
polysomnographic 
study. 
This 
technique 
consisted 
of 
continuous 
monitoring 
using 
a 
polygraph 
(Ultrasom 
Network, 
Nicolet, 
Madison, 
WI, 
USA) 
and 
included 
electroencephalogram, 
electrooculogram 
(EOG), 
chin 
electromyogram, 
air 
flow 
(three-port 
thermistor), 
electrocardiogram 
and 
measurement 
of 
chest 
wall 
movement. 
Figure 
1 
shows 
the 
typical 
records 
including 
EEG, 
EOG, 
EMG, 
ECG, 
airflow, 
respitrace, 
SaO2 
of 
Polysomnography 
device 
(http://classes.kumc. 
edu/cahe/respcared/cybercas/sleepapnea/trenpoly.html). 


The 
polysomnographic 
register 
was 
analyzed 
in 
periods 
of 
30 
s 
and 
during 
stages 
NREM1–4 
and 
REM 
according 
to 
the 
Rechtschaffen 
and 
Kales 
method 
[7]. 
Rechtschaffen 
and 
Kales 
staging 
is 
the 
standard 
methodology 
used 
to 
identify 
the 
stages 
of 
normal 
human 
sleep. 
Apnea 
was 
defined 
as 
the 
absence 
of 
airflow 
for 
more 
than 
10 
s 
[8], 
and 
Hypopnea 
as 
the 
reduction 
of 
respiratory 
flow 
=50% 
accompanied 
by 
a 
3% 
or 
more 
decrease 
in 
the 
saturation 
of 
hemoglobin 
[9]. 
The 
average 
of 
AHI 
was 
calculated 
in 
hourly 
samples 
of 
sleep 
[5, 
10]. 


Table 
1 
The 
statistical 
measures 
of 
used 
clinical 
features 
and 
characteristics 


Used 
features 
Non-OSAS 
OSAS 
Clinical 
characteristics 
Age 
From 
17 
to 
70 
From 
17 
to 
67 
(years) 
Mean: 
49 
Mean: 
49 
BMI 
(kg/m2) 
Mean: 
30.85 
Mean: 
38.15 
Clinical 
features 
obtained 
from 
Polysomnography 
device 
Arousals 
Index 
(ARI) 
Mean: 
24.666 
Mean: 
150.45 
AHI 
(Apnea 
and 
Hypopnea 
Index) 
Mean: 
4.05 
Mean: 
33.51 
SaO2 
minimum 
value 
in 
stage 
of 
REM 
Mean: 
87.24 
Mean: 
79.35 
Percent 
Sleep 
Time 
(PST) 
in 
stage 
of 
SaO2 
Mean: 
94.81 
Mean: 
62.92 
intervals 
bigger 
than 
89% 




J 
Med 
Syst 
(2008) 
32:243–250 


Fig. 
1 
The 
typical 
records 
including 
EEG, 
EOG, 
EMG, 
ECG, 
airflow, 
respitrace, 
SaO2 
of 
polysomnography 
device 



Classification 
algorithms 
used 


We 
have 
used 
the 
classifier 
algorithms 
containing 
C4.5 
decision 
tree 
classifier, 
ANN, 
AIRS, 
and 
ANFIS 
to 
diagnose 
the 
obstructive 
sleep 
apnea 
syndrome, 
which 
is 
a 
common 
disorder 
among 
public. 
We 
have 
explained 
the 
used 
classifier 
algorithms 
in 
the 
following 
subsections. 


C4.5 
decision 
tree 
classifier 


C4.5 
Decision 
tree 
learning 
is 
one 
of 
the 
most 
widely 
used 
and 
practical 
methods 
for 
inductive 
inference. 
It 
is 
a 
method 
for 
approximating 
discrete-valued 
functions 
that 
is 
robust 
to 
noisy 
data 
and 
capable 
of 
learning 
disjunctive 
expressions 
[11, 
12]. 


C4.5 
decision 
tree 
learning 
is 
a 
method 
for 
approximating 
discrete-valued 
functions, 
in 
which 
the 
learned 
function 
is 
represented 
by 
a 
decision 
tree. 
Learned 
trees 
can 
also 
be 
represented 
as 
sets 
of 
if–then 
rules 
to 
improve 
human 
readability. 
These 
learning 
methods 
are 
among 
the 
most 
popular 
of 
inductive 
inference 
algorithms 
and 
have 
been 
successfully 
applied 
to 
a 
broad 
range 
of 
tasks 
from 
learning 
to 
diagnose 
medical 
cases 
to 
learning 
to 
assess 
credit 
risk 
of 
loan 
applicants. 
C4.5 
Decision 
tree 
learning 
is 
a 
heuristic, 
one-step 
look 
ahead 
(hill 
climbing), 
non-backtracking 
search 
through 
the 
space 
of 
all 
possible 
decision 
trees 
[11–13]. 


The 
aim 
of 
C4.5 
decision 
tree 
learning 
is 
recursively 
partition 
data 
into 
sub-groups. 
Working 
of 
C4.5 
decision 
tree 
learning 
is 
as 
follows: 


& 
Select 
an 
attribute 
and 
formulate 
a 
logical 
test 
on 
attribute 


& 
Branch 
on 
each 
outcome 
of 
test, 
move 
subset 
of 
examples 
(training 
data) 
satisfying 
that 
outcome 
to 
the 
corresponding 
child 
node 


& 
Run 
recursively 
on 
each 
child 
node 
& 
Termination 
rule 
specifies 
when 
to 
declare 
a 
leaf 
node 


Training 
of 
C4.5 
decision 
tree 
learning 
is 
given 
in 
Fig. 
2. 
Definitions 
that 
used 
training 
of 
C4.5 
decision 
tree 
learning 
are 
explained 
as 
follows: 


& 
Selection: 
used 
to 
partition 
training 
data 
& 
Termination 
condition: 
determines 
when 
to 
stop 
partitioning 
& 
Pruning 
algorithm: 
attempts 
to 
prevent 
overfitting 


Artificial 
neural 
network 
(ANN) 


An 
artificial 
neural 
network 
(ANN) 
is 
an 
information 
processing 
paradigm 
that 
is 
inspired 
by 
the 
way 
biological 
nervous 
systems, 
such 
as 
the 
brain, 
process 
information. 
The 
key 
element 
of 
this 
paradigm 
is 
the 
novel 
structure 
of 
the 
information 
processing 
system. 
It 
is 
composed 
of 
a 
large 
number 
of 
highly 
interconnected 
processing 
elements 
(neurones) 
working 
in 
unison 
to 
solve 
specific 
problems. 
ANNs, 
like 
people, 
learn 
by 
example. 
An 
ANN 
is 
configured 
for 
a 
specific 
application, 
such 
as 
pattern 
recognition 
or 
data 
classification, 
through 
a 
learning 
process. 
Learning 
in 
biological 
systems 
involves 
adjustments 
to 
the 
synaptic 
connections 
that 
exist 
between 
the 
neurones. 
This 
is 
true 
of 
ANNs 
as 
well. 


In 
order 
to 
train 
a 
neural 
network 
to 
perform 
some 
task, 
we 
must 
adjust 
the 
weights 
of 
each 
unit 
in 
such 
a 
way 
that 
the 
error 
between 
the 
desired 
output 
and 
the 
actual 
output 
is 




J 
Med 
Syst 
(2008) 
32:243–250 


Fig. 
2 
Training 
algorithm 


Decision Tree (examples) 

of 
C4.5 
decision 
tree 
classifier 


Prune (Tree_Generation(examples) 

Tree_Generation(examples)= 

IF termination_condition(examples) 

THEN leaf (majority_class (examples) 

ELSE 

LET 

Best_test=selection_function(examples) 

IN 

FOR EACH value of Best_test 

reduced. 
This 
process 
requires 
that 
the 
neural 
network 
compute 
the 
error 
derivative 
of 
the 
weights 
(EW). 
In 
other 
words, 
it 
must 
calculate 
how 
the 
error 
changes 
as 
each 
weight 
is 
increased 
or 
decreased 
slightly. 
The 
back 
propagation 
algorithm 
is 
the 
most 
widely 
used 
method 
for 
determining 
the 
EW. 


The 
back-propagation 
algorithm 
is 
easiest 
to 
understand 
if 
all 
the 
units 
in 
the 
network 
are 
linear. 
The 
algorithm 
computes 
each 
EW 
by 
first 
computing 
the 
EA, 
the 
rate 
at 
which 
the 
error 
changes 
as 
the 
activity 
level 
of 
a 
unit 
is 
changed. 
For 
output 
units, 
the 
EA 
is 
simply 
the 
difference 
between 
the 
actual 
and 
the 
desired 
output. 
To 
compute 
the 
EA 
for 
a 
hidden 
unit 
in 
the 
layer 
just 
before 
the 
output 
layer, 
we 
first 
identify 
all 
the 
weights 
between 
that 
hidden 
unit 
and 
the 
output 
units 
to 
which 
it 
is 
connected. 
We 
then 
multiply 
those 
weights 
by 
the 
EAs 
of 
those 
output 
units 
and 
add 
the 
products. 
This 
sum 
equals 
the 
EA 
for 
the 
chosen 
hidden 
unit. 
After 
calculating 
all 
the 
EAs 
in 
the 
hidden 
layer 
just 
before 
the 
output 
layer, 
we 
can 
compute 
in 
like 
fashion 
the 
EAs 
for 
other 
layers, 
moving 
from 
layer 
to 
layer 
in 
a 
direction 
opposite 
to 
the 
way 
activities 
propagate 
through 
the 
network. 
This 
is 
what 
gives 
back 
propagation 
its 
name. 
Once 
the 
EA 
has 
been 
computed 
for 
a 
unit, 
it 
is 
straight 
forward 
to 
compute 
the 
EW 
for 
each 
incoming 
connection 
of 
the 
unit. 
The 
EW 
is 
the 
product 
of 
the 
EA 
and 
the 
activity 
through 
the 
incoming 
connection 
(http://www.doc.ic.ac.uk/ 
~nd/surprise_96/journal/vol4/cs11/report.html). 


Artificial 
immune 
recognition 
system 
(AIRS) 


AIRS 
is 
a 
resource 
limited 
supervised 
learning 
algorithm 
inspired 
from 
immune 
metaphors. 
In 
this 
algorithm, 
the 
used 
immune 
mechanisms 
are 
resource 
competition, 
clonal 
selection, 
affinity 
maturation 
and 
memory 
cell 
formation. 
The 
feature 
vectors 
presented 
for 
training 
and 
test 
are 
named 
as 
Antigens 
while 
the 
system 
units 
are 
called 
as 
B 


Let subtree_v=Tree_Generation({e . example | e.Best_test=v}) 

IN Node (Best_test, subtree_v) 

cells. 
Similar 
B 
cells 
are 
represented 
with 
artificial 
recognition 
balls 
(ARBs) 
and 
these 
ARBs 
compete 
with 
each 
other 
for 
a 
fixed 
resource 
number. 
This 
provides 
ARBs, 
which 
have 
higher 
affinities 
to 
the 
training 
Antigen 
to 
improve. 
The 
memory 
cells 
formed 
after 
the 
whole 
training 
Antigens 
were 
presented 
are 
used 
to 
classify 
test 
Antigens. 
The 
algorithm 
is 
composed 
of 
four 
main 
stages, 
which 
are 
initialization, 
memory 
cell 
identification 
and 
ARB 
generation, 
competition 
for 
resources 
and 
development 
of 
a 
candidate 
memory 
cell, 
and 
memory 
cell 
introduction. 
Table 
2 
summarizes 
the 
mapping 
between 
the 
immune 
system 
and 
AIRS. 


We 
give 
the 
details 
of 
our 
algorithm 
below. 


1. 
Initialization: 
create 
a 
set 
of 
cells 
called 
the 
memory 
pool 
(M) 
and 
the 
ARB 
pool 
(P) 
from 
randomly 
selected 
training 
data 
2. 
Antigenic 
presentation: 
for 
each 
antigenic 
pattern 
do 
Table 
2 
Mapping 
between 
the 
immune 
system 
and 
AIRS 


Immune 
system 
AIRS 
Antibody 
Feature 
vector 
Recognition 
ball 
Combination 
of 
feature 
vector 
and 
vector 
class 
Shape–space 
Type 
and 
possible 
values 
of 
the 
data 
vector 
Clonal 
expansion 
Reproduction 
of 
ARBs 
that 
are 
well 
matched 
antigens 
Antigens 
Training 
data 
Affinity 
maturation 
Random 
mutation 
of 
ARB 
and 
removal 
of 
the 
least 
stimulated 
ARBs 
Immune 
memory 
Memory 
set 
of 
mutated 
ARBs 
Metadynamics 
Continual 
removal 
and 
creation 
of 
ARBs 
and 
memory 
cells 




J 
Med 
Syst 
(2008) 
32:243–250 


(a) 
Clonal 
expansion: 
for 
each 
element 
of 
M, 
determine 
its 
affinity 
to 
the 
antigenic 
pattern, 
which 
resides 
in 
the 
same 
class. 
Select 
the 
highest 
affinity 
memory 
cell 
(mc) 
and 
clone 
mc 
in 
proportion 
to 
its 
antigenic 
affinity 
to 
add 
to 
the 
set 
of 
ARBs 
(P) 
(b) 
Affinity 
maturation: 
mutate 
each 
ARB 
descendant 
of 
the 
highest 
affinity 
mc. 
Place 
each 
mutated 
ARB 
into 
P 
(c) 
Metadynamics 
of 
ARBs: 
process 
each 
ARB 
using 
the 
resource 
allocation 
mechanism. 
This 
process 
will 
result 
in 
some 
ARB 
death, 
and 
ultimately 
controls 
the 
population. 
Calculate 
the 
average 
stimulation 
for 
each 
ARB, 
and 
check 
for 
termination 
condition 
(d) 
Clonal 
expansion 
and 
affinity 
maturation: 
clone 
and 
mutate 
the 
randomly 
selected 
subset 
of 
the 
ARBs 
left 
in 
P 
based 
on 
their 
stimulation 
level 
(e) 
Cycle: 
while 
the 
average 
stimulation 
value 
of 
each 
ARB 
class 
group 
is 
less 
than 
a 
given 
stimulation 
threshold 
go 
to 
step 
2.c 
(f) 
Metadynamics 
of 
memory 
cells: 
select 
the 
highest 
affinity 
ARB 
of 
the 
same 
class 
as 
the 
antigen 
from 
the 
last 
antigenic 
interaction. 
If 
the 
affinity 
of 
this 
ARB 
with 
the 
antigenic 
pattern 
is 
better 
than 
that 
of 
the 
previously 
identified 
best 
memory 
cell 
mc 
then 
add 
the 
candidate 
(mc-candidate) 
to 
memory 
set 
M. 
If 
the 
affinity 
of 
mc 
and 
mc-candidate 
are 
below 
the 
affinity 
threshold, 
remove 
mc 
from 
M 
3. 
Classify. 
Classify 
data 
items 
using 
the 
memory 
set 
M. 
Classification 
is 
performed 
in 
a 
k-nearest 
neighbor 
fashion 
with 
a 
vote 
being 
made 
among 
the 
k 
closest 
memory 
cells 
to 
the 
given 
data 
item 
being 
classified 
For 
more 
detailed 
information 
about 
AIRS, 
the 
reader 
is 
referred 
to 
[14, 
15]. 


Adaptive 
neuro-fuzzy 
inference 
system 
(ANFIS) 


The 
ANFIS 
is 
a 
fuzzy 
Sugeno 
model 
put 
in 
the 
framework 
of 
adaptive 
systems 
to 
facilitate 
learning 
and 
adaptation 
[16, 
17]. 
Such 
framework 
makes 
the 
ANFIS 
modeling 
more 


Fig. 
3 
ANFIS 
architecture 


systematic 
and 
less 
reliant 
on 
expert 
knowledge. 
To 
present 
the 
ANFIS 
architecture, 
two 
fuzzy 
if–then 
rules 
based 
on 
a 
first 
order 
Sugeno 
model 
are 
considered: 


Rule1: 
If(x 
is 
A1) 
and 
(y 
is 
B1) 
then 
ðf 
1 
¼p1x 
þq1y1 


þr1Þ 
Rule2: 
If(x 
is 
A2) 
and 
(y 
is 
B2) 
then 
ðf 
2 
¼p2x 
þq2y 


þr2Þ 


where 
x 
and 
y 
are 
the 
inputs, 
Ai 
and 
Bi 
are 
the 
fuzzy 
sets, 
fi 
are 
the 
outputs 
within 
the 
fuzzy 
region 
specified 
by 
the 
fuzzy 
rule, 
pi, 
qi 
and 
ri 
are 
the 
design 
parameters 
that 
are 
determined 
during 
the 
training 
process. 
The 
ANFIS 
architecture 
to 
implement 
these 
two 
rules 
is 
shown 
in 
Fig. 
3, 
in 
which 
a 
circle 
indicates 
a 
fixed 
node, 
whereas 
a 
square 
indicates 
an 
adaptive 
node. 


In 
the 
first 
layer 
of 
ANFIS, 
all 
the 
nodes 
are 
adaptive 
nodes. 
The 
outputs 
of 
layer 
1 
are 
the 
fuzzy 
membership 
grade 
of 
the 
inputs, 
which 
are 
given 
by: 


O1 
¼mAix; 
i 
¼1; 
2; 
ð1Þ

ðÞ

i 


O1 
y; 
i 
¼3; 
4 
ð2Þ

i 
¼mBi2 
ðÞ

where 
µ 
is 
an 
obtained 
weight 
according 
to 
related 
fuzzy 
membership 
function, 
µAi 
(x), 
µBi-2(y) 
can 
adopt 
any 
fuzzy 
membership 
function. 
For 
example, 
if 
the 
bell 
shaped 
membership 
function 
is 
employed; 
µAi 
(x) 
is 
given 
by: 


1 


mAi 
x
bi 
3Þ

ðÞ¼ 
ð

. 
2 


xci

1 
þ 


ai 


where 
ai, 
bi 
and 
ci 
are 
the 
parameters 
of 
the 
membership 
function, 
governing 
the 
bell 
shaped 
functions 
accordingly. 


In 
the 
second 
layer, 
the 
nodes 
are 
fixed 
nodes. 
They 
are 
labeled 
with 
M, 
indicating 
that 
they 
perform 
as 
a 
simple 
multiplier. 
The 
outputs 
of 
this 
layer 
can 
be 
represented 
as: 


O2 
¼wi 
¼mAixmBi 
ðÞ; 
i 
¼1; 
2 
ð4Þ

ðÞy

i 


which 
are 
the 
so-called 
firing 
strengths 
of 
the 
rules. 




J 
Med 
Syst 
(2008) 
32:243–250 


In 
the 
third 
layer, 
the 
nodes 
are 
also 
fixed 
nodes. 
They 
are 
labeled 
with 
N, 
indicating 
that 
they 
play 
a 
normalization 
role 
to 
the 
firing 
strengths 
from 
the 
previous 
layer. 


The 
outputs 
of 
this 
layer 
can 
be 
represented 
as: 


O3 
¼wi 
¼ 
wi 
; 
i 
¼1; 
2 
ð5Þ

i 


w1 
þw2 


which 
are 
the 
so-called 
normalized 
firing 
strengths. 


In 
the 
fourth 
layer, 
the 
nodes 
are 
adaptive 
nodes. 
The 
output 
of 
each 
node 
in 
this 
layer 
is 
simply 
the 
product 
of 
the 
normalized 
firing 
strength 
and 
a 
first 
order 
polynomial 
(for 
a 
first 
order 
Sugeno 
model). 
Thus, 
the 
outputs 
of 
this 
layer 
are 
given 
by: 


O4 
¼wifi 
¼ð 
qiy 
þÞ; 
i 
¼1; 
2 
ð6Þ

wi 
pix 
þri

i 


In 
the 
fifth 
layer, 
there 
is 
only 
one 
single 
fixed 
node 
labeled 
with 
S. 
This 
node 
performs 
the 
summation 
of 
all 
incoming 
signals. 
Hence, 
the 
overall 
output 
of 
the 
model 
is 
given 
by: 


2 
2 
wifi 


P 


X 


i¼1O5 
i 
¼ 
wifi 
¼ð7Þ 


w1 
þw2

i¼1 


It 
can 
be 
observed 
that 
there 
are 
two 
adaptive 
layers 
in 
this 
ANFIS 
architecture, 
namely 
the 
first 
layer 
and 
the 
fourth 
layer. 
In 
the 
first 
layer, 
there 
are 
three 
modifiable 
parameters 
{ai, 
bi, 
ci}, 
which 
are 
related 
to 
the 
input 
membership 
functions. 
These 
parameters 
are 
the 
so-called 
premise 
parameters. 
In 
the 
fourth 
layer, 
there 
are 
also 
three 
modifiable 
parameters 
{pi, 
qi, 
ri}, 
pertaining 
to 
the 
first 
order 
polynomial. 
These 
parameters 
are 
so-called 
consequent 
parameters 
[16, 
17]. 


The 
task 
of 
the 
learning 
algorithm 
for 
this 
architecture 
is 
to 
tune 
all 
the 
modifiable 
parameters, 
namely 
{ai, 
bi, 
ci} 
and 
{pi, 
qi, 
ri}, 
to 
make 
the 
ANFIS 
output 
match 
the 
training 
data. 
When 
the 
premise 
parameters 
ai, 
bi, 
and 
ci 
of 
the 
membership 
function 
are 
fixed, 
the 
output 
of 
the 
ANFIS 
model 
can 
be 
written 
as: 


w1 
w2

f 
¼þ 
f2 
ð8Þ 


w1 
þw2 
w1 
þw2 


Substituting 
Eq. 
(6) 
into 
Eq. 
(9) 
yields: 


f 
¼w1f1 
þw2f2 
ð9Þ 


Substituting 
the 
fuzzy 
if–then 
rules 
into 
Eq. 
(10), 
it 
becomes: 


f 
¼w1ðp1x 
þq1y 
þr1Þþw2ðp2x 
þq2y 
þr2Þð10Þ 


After 
rearrangement, 
the 
output 
can 
be 
expressed 
as: 


f 
¼w1xp1 
þð 
Þw1r1 
þð 
Þ

ðÞw1yq1 
þðÞw2xp2 


þðÞðÞð11Þ

w2yq2 
þw2r2 


which 
is 
a 
linear 
combination 
of 
the 
modifiable 
consequent 
parameters 
p1, 
q1, 
r1, 
p2, 
q2, 
and 
r2. 
The 
least 
squares 
method 
can 
be 
used 
to 
identify 
the 
optimal 
values 
of 
these 
parameters 
easily. 
When 
the 
premise 
parameters 
are 
not 
fixed, 
the 
search 
space 
becomes 
larger 
and 
the 
convergence 
of 
the 
training 
becomes 
slower. 
A 
hybrid 
algorithm 
combining 
the 
least 
squares 
method 
and 
the 
gradient 
descent 
method 
is 
adopted 
to 
solve 
this 
problem. 
The 
hybrid 
algorithm 
is 
composed 
of 
a 
forward 
pass 
and 
a 
backward 
pass. 
The 
least 
squares 
method 
(forward 
pass) 
is 
used 
to 
optimize 
the 
consequent 
parameters 
with 
the 
premise 
parameters 
fixed. 
Once 
the 
optimal 
consequent 
parameters 
are 
found, 
the 
backward 
pass 
starts 
immediately. 
The 
gradient 
descent 
method 
(backward 
pass) 
is 
used 
to 
adjust 
optimally 
the 
premise 
parameters 
corresponding 
to 
the 
fuzzy 
sets 
in 
the 
input 
domain. 
The 
output 
of 
the 
ANFIS 
is 
calculated 
by 
employing 
the 
consequent 
parameters 
found 
in 
the 
forward 
pass. 
The 
output 
error 
is 
used 
to 
adapt 
the 
premise 
parameters 
by 
means 
of 
a 
standard 
back 
propagation 
algorithm. 
It 
has 
been 
proven 
that 
this 
hybrid 
algorithm 
is 
highly 
efficient 
in 
training 
the 
ANFIS 
[16–18]. 


The 
experimental 
results 


In 
this 
section, 
we 
present 
the 
performance 
evaluation 
methods 
used 
to 
evaluate 
the 
proposed 
method. 
Finally, 
we 
give 
the 
experimental 
results 
and 
discuss 
our 
observations 
from 
the 
obtained 
results. 


Performance 
measures 
methods 


We 
have 
used 
three 
methods 
for 
performance 
evaluation 
of 
the 
proposed 
method 
on 
the 
diagnosis 
of 
OSAS. 
These 
methods 
are 
the 
mean 
square 
error 
(MSE), 
classification 
accuracy, 
area 
under 
the 
receiver 
operating 
characteristics 
(ROC) 
curve 
(AUC), 
and 
sensitivity 
and 
specificity 
analysis. 
We 
explain 
these 
methods 
in 
the 
following 
subsections. 


Classification 
accuracy 


Classification 
accuracy 
In 
this 
study, 
the 
classification 
accuracies 
for 
the 
datasets 
are 
measured 
using 
Eq. 
(12): 


TP 
þTN 


Accuracy 
¼ð12Þ 


TP 
þTN 
þFN 
þFP 




J 
Med 
Syst 
(2008) 
32:243–250 


Sensitivity 
and 
specificity 
analysis 


For 
sensitivity 
and 
specificity 
analysis, 
we 
use 
the 
following 
expressions: 


TP 


sensitivity 
¼ 
%ð13Þ

ðÞ 


TP 
þFN 


TN 


specificity 
¼ 
%ð14Þ

ðÞ 


FP 
þTN 
where 
TP, 
TN, 
FP, 
and 
FN 
denote 
true 
positives, 
true 
negatives, 
false 
positives, 
and 
false 
negatives, 
respectively. 


Receiver 
operating 
characteristic 
(ROC) 
curves 


An 
ROC 
graph 
is 
a 
technique 
for 
visualizing, 
organizing, 
and 
selecting 
classifiers 
based 
on 
their 
performance. 
ROC 
graphs 
are 
commonly 
used 
in 
medical 
decision 
making, 
in 
recent 
years 
have 
been 
used 
increasingly 
in 
machine 
learning 
and 
data 
mining 
research. 
Although 
ROC 
graphs 
are 
apparently 
simple, 
there 
are 
some 
common 
misconceptions 
and 
pitfalls 
when 
using 
them 
in 
research 
[19]. 


ROC 
graphs 
are 
two-dimensional 
graphs 
in 
which 
true 
positive 
rate 
is 
plotted 
on 
the 
Y 
axis 
and 
false 
positive 
rate 
is 
plotted 
on 
the 
X 
axis. 
An 
ROC 
depicts 
relative 
tradeoffs 
between 
benefits 
(true 
positives) 
and 
costs 
(false 
positives) 
[19]. 


Mean 
square 
error 
(MSE) 


In 
a 
sense, 
any 
measure 
of 
the 
center 
of 
a 
distribution 
should 
be 
associated 
with 
some 
measure 
of 
error. 
If 
we 
say 
that 
the 
number 
t 
is 
a 
good 
measure 
of 
center, 
then 
presumably 
we 
are 
saying 
that 
t 
represents 
the 
entire 
distribution 
better, 
in 
some 
way, 
than 
other 
numbers. 
In 
this 
context, 
suppose 
that 
we 
measure 
the 
quality 
of 
t,asa 
measure 
of 
the 
center 
of 
the 
distribution, 
in 
terms 
of 
the 
mean 
square 
error 


kk 


XX

1 


MSE 
tðÞ¼ 
fiðxi 
tÞ2¼ 
piðxi 
tÞ2 
ð15Þ 


n 


i¼1 
i¼1 


MSE 
(t) 
is 
a 
weighted 
average 
of 
the 
squares 
of 
the 
distances 
between 
t 
and 
the 
class 
marks 
with 
the 
relative 


frequencies 
as 
the 
weight 
factors. 
Thus, 
the 
best 
measure 
of 
the 
center, 
relative 
to 
this 
measure 
of 
error, 
is 
the 
value 
of 
t 
that 
minimizes 
MSE 
[20]. 


Results 
and 
discussion 


In 
this 
study, 
the 
obstructive 
sleep 
apnea 
syndrome 
was 
diagnosed 
using 
different 
classifier 
algorithms 
including 
C4.5 
decision 
tree, 
ANN, 
AIRS, 
and 
ANFIS. 
In 
diagnosing 
the 
OSAS, 
we 
have 
used 
the 
clinical 
features 
including 
Arousals 
Index 
(ARI), 
AHI, 
SaO2 
minimum 
value 
in 
stage 
of 
REM, 
and 
percent 
sleep 
time 
(PST) 
in 
stage 
of 
SaO2 
intervals 
bigger 
than 
89% 
obtained 
from 
Polysomnography 
device 
records. 
These 
clinical 
features 
were 
selected 
using 
the 
correlation 
among 
all 
the 
clinical 
features 
obtained 
from 
Polysomnography 
reports. 
The 
classifier 
algorithms 
have 
been 
used 
to 
diagnose 
the 
normal 
subjects 
without 
OSAS 
and 
patients 
suffering 
from 
OSAS. 
In 
our 
experiments, 
a 
total 
of 
83 
patients 
(58 
with 
a 
positive 
OSAS 
(AHI>5) 
and 
25 
with 
a 
negative 
OSAS 
such 
that 
normal 
subjects) 
were 
examined. 


In 
order 
to 
compare 
the 
used 
classifier 
algorithms, 
the 
MSE, 
classification 
accuracy, 
AUC, 
and 
sensitivity 
and 
specificity 
analysis 
have 
been 
used. 
The 
obtained 
AUC 
values 
of 
C4.5 
decision 
tree, 
ANN, 
AIRS, 
and 
ANFIS 
classifiers 
are 
0.971, 
0.96, 
0.96, 
and 
0.922, 
respectively. 
Table 
3 
presents 
the 
obtained 
results 
from 
C4.5 
decision 
tree 
classifier, 
ANN, 
ANFIS, 
and 
AIRS 
classifiers. 
To 
compare 
the 
classification 
performances 
of 
classifier 
algorithms 
containing 
C4.5 
decision 
tree, 
ANN, 
AIRS, 
and 
ANFIS, 
50–50% 
training–test 
partition 
of 
whole 
dataset 
has 
been 
used. 


As 
can 
be 
seen 
from 
above 
results, 
the 
best 
model 
for 
diagnosing 
the 
OSAS 
was 
C4.5 
decision 
tree 
classifier 
with 
respect 
to 
AUC 
values. 
We 
believe 
that 
the 
proposed 
system 
can 
be 
very 
helpful 
to 
the 
physicians 
for 
their 
final 
decision 
on 
their 
patients 


Conclusion 


In 
this 
paper, 
we 
have 
compared 
the 
classifier 
algorithms 
including 
C4.5 
decision 
tree, 
ANN, 
AIRS, 
and 
ANFIS 
in 
the 
diagnosis 
of 
OSAS, 
which 
is 
an 
important 
disease 
that 


Table 
3 
The 
obtained 
results 
from 
C4.5 
decision 
tree 
classifier, 
ANN, 
ANFIS, 
and 
AIRS 
classifiers 
on 
the 
diagnosis 
of 
obstructive 
sleep 
apnea 
syndrome 
(for 
50–50% 
train–test 
split) 


Methods 
MSE 
AUC 
Classification 
accuracy 
(%) 
Sensitivity 
(%) 
Specificity 
(%) 


C4.5 
decision 
tree 
classifier 
1.4142 
0.971 
95.12 
91.67 
96.55 
ANN 
with 
LM 
0.199 
0.96 
95.12 
100 
93.55 
ANFIS 
0.199 
0.96 
95.12 
100 
93.55 
AIRS 
2.23 
0.922 
87.80 
81.82 
90.00 




J 
Med 
Syst 
(2008) 
32:243–250 


affects 
both 
the 
right 
and 
the 
left 
cardiac 
ventricle. 
The 
goal 
of 
this 
study 
was 
to 
find 
the 
best 
classifier 
model 
on 
the 
diagnosis 
of 
OSAS. 
The 
obtained 
classification 
accuracies 
were 
95.12%, 
95.12%, 
95.12%, 
and 
87.80% 
using 
C4.5 
decision 
tree, 
ANN, 
AIRS, 
and 
ANFIS 
with 
50–50% 
training–test 
split, 
respectively. 
The 
obtained 
results 
have 
shown 
that 
the 
best 
classifier 
system 
is 
C4.5 
decision 
tree 
classifier 
on 
the 
diagnosis 
of 
obstructive 
sleep 
apnea 
syndrome. 
We 
hope 
that 
the 
proposed 
method 
will 
be 
performed 
as 
online 
diagnosis 
tool 
in 
the 
future. 


Acknowledgements 
This 
study 
has 
been 
supported 
by 
Scientific 
Research 
Project 
of 
Selcuk 
University. 
(project 
no. 
05401069). 


References 


1. 
American 
Academy 
of 
Sleep 
Medicine 
Task 
Force, 
Sleep-related 
breathing 
disorders 
in 
adults: 
recommendations 
for 
syndrome 
definition 
and 
measurement 
techniques 
in 
clinical 
research. 
Sleep 
22:5667–689, 
1999. 
2. 
Kaltz, 
E. 
S., 
Lutz, 
J., 
Black, 
C., 
and 
Marcus, 
C. 
L., 
Pulse 
Transit 
Time 
as 
a 
measure 
of 
arousal 
and 
respiratory 
effort 
in 
children 
with 
sleep-disorder 
breathing. 
Pediatr. 
Res 
53:4580–588, 
2003, 
April 
1. 
3. 
Al-Ani, 
T., 
Hamam 
Y., 
Novak, 
D., 
Pozzo 
mendoza, 
P. 
T., 
Lhotska, 
L., 
Lofaso, 
F., 
Isabey, 
D., 
and 
Fodil, 
R., 
Noninvasive 
automatic 
sleep 
apnea 
classification 
system. 
BioMedSim'05, 
Linköping, 
Sweden, 
May 
26–27, 
2005. 
4. 
Al-Angari, 
H. 
M., 
and 
Sahakian, 
A. 
V., 
Use 
of 
sample 
entropy 
approach 
to 
study 
heart 
rate 
variability 
in 
obstructive 
sleep 
apnea 
syndrome. 
IEEE 
Trans. 
Biomed. 
Eng 
54(10):1900–1904, 
2007. 
5. 
del 
Campo, 
F., 
Hornero, 
R., 
Zamarrón, 
C., 
Abasolo, 
D. 
E., 
and 
Álvarez, 
D., 
Oxygen 
saturation 
regularity 
analysis 
in 
the 
diagnosis 
of 
obstructive 
sleep 
apnea. 
Artif. 
Intell. 
Med 
37:111–118, 
2006. 
6. 
Kwiatkowska, 
M., 
and 
Schmittendorf, 
E., 
Assessment 
of 
obstructive 
sleep 
apnea 
using 
pulse 
oximetry 
and 
clinical 
prediction 
rules: 
a 
fuzzy 
logic 
approach. 
BMT, 
Nuremberg, 
Germany, 
Sept 
14–17 
2005. 
7. 
Rechtschaffen, 
A., 
and 
Kales, 
A., 
A 
manual 
of 
standardized 
terminology, 
techniques 
and 
scoring 
system 
for 
sleep 
stages 
of 
human 
subjects. 
National 
Institutes 
of 
Health 
Publication 
No. 
204. 
US 
Government-Printing 
Office, 
Washington, 
DC, 
1979. 
8. 
American 
Thoracic 
Society 
consensus 
statement, 
Indications 
and 
standards 
for 
cardiopulmonary 
sleep 
statement. 
Am 
Rev. 
Respir 
Dis 
139:559–568, 
1989. 
9. 
American 
Academy 
of 
Sleep 
Medicine 
Task 
Force, 
Sleep-related 
breathing 
disorders 
in 
adults: 
Recommendations 
for 
syndrome 
definition 
and 
measurement 
techniques 
in 
clinical 
research. 
Sleep 
22:667–689, 
1999. 
10. 
Douglas, 
N. 
J., 
Thomas, 
S., 
and 
Jan, 
M. 
A., 
Clinical 
value 
of 
polysomnography. 
Lancet 
339:347–50, 
1992. 
11. 
Mitchell, 
M. 
T., 
Machine 
learning. 
McGraw-Hill, 
Singapore, 
1997. 
12. 
Quinlan, 
J. 
R., 
Induction 
of 
decision 
trees. 
Mach. 
Learn 
1:81–106, 
1986. 
13. 
Polat, 
K., 
and 
Günes, 
S., 
The 
effect 
to 
diagnostic 
accuracy 
of 
decision 
tree 
classifier 
of 
fuzzy 
and 
k-NN 
based 
weighted 
pre-processing 
methods 
to 
diagnosis 
of 
erythemato-squamous 
diseases. 
Digit. 
Signal 
Process 
16(6):922–930, 
2006. 
14. 
Watkins, 
A., 
AIRS: 
a 
resource 
limited 
artificial 
immune 
classifier, 
Master 
Thesis. 
Mississippi 
State 
University, 
Mississippi, 
2001. 
15. 
Polat, 
K., 
Sahan, 
S., 
and 
Günes, 
S., 
A 
new 
method 
to 
medical 
diagnosis: 
Artificial 
Immune 
Recognition 
System 
(AIRS) 
with 
fuzzy 
weighted 
pre-processing 
and 
application 
to 
ECG 
Arrhythmia 
(2005). 
Expert 
Syst. 
Appl 
31(2):264–269, 
2006. 
16. 
Jang, 
J.-S. 
R., 
ANFIS: 
Adaptive-network-based 
fuzzy 
inference 
system. 
IEEE 
Trans. 
Syst. 
Man 
Cybern 
23(3):665–685, 
1993. 
17. 
Jang, 
J.-S. 
R., 
Self-learning 
fuzzy 
controllers 
based 
on 
temporal 
backpropagation. 
IEEE 
Trans. 
Neural 
Netw 
3(5):714–723, 
1992. 
18. 
Polat, 
K., 
and 
Günes, 
S., 
A 
hybrid 
medical 
decision 
making 
system 
based 
on 
principles 
component 
analysis, 
k-NN 
based 
weighted 
pre-processing 
and 
adaptive 
neuro-fuzzy 
inference 
system. 
Digit. 
Signal 
Process 
16(6):913–921, 
2006. 
19. 
Fawcett, 
F., 
An 
introduction 
to 
ROC 
analysis. 
Pattern 
Recogn. 
Lett 
27(8):861–874, 
2005. 
20. 
Liu, 
Y., 
and 
Zheng, 
Y. 
F., 
One-against-all 
multi-class 
SVM 
classification 
using 
reliability 
measures, 
Neural 
Networks, 
2005. 
IJCNN 
‘05. 
Proceedings. 
2005 
IEEE 
International 
Joint 
Conference 
on 
Volume 
2, 
31 
July–4 
Aug. 
2:849–854, 
2005. 

